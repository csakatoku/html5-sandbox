<!DOCTYPE html>
<html>
<body>
<ul>
  <li><a class="nav" href="/page/1/">Page 1</a></li>
  <li><a class="nav" href="/page/2/">Page 2</a></li>
  <li><a class="nav" href="/page/3/">Page 3</a></li>
</ul>
<p id="content"></p>
<script type="text/javascript">
(function() {
  if (window.history && history.pushState) {
    var href;
    var content = document.getElementById("content");
    var elements = document.getElementsByClassName("nav");
    [].forEach.call(elements, function(element) {
       element.addEventListener("click", function(e) {
         e.preventDefault();
         href = element.getAttribute("href");
         history.pushState(null, null, href);
         content.innerHTML = href;
       }, true);
    });

    window.addEventListener("popstate", function(e) {
       content.innerHTML = location.pathname;
    });
  }
}());
</script>
</body>
</html>
